{"version":3,"sources":["../../src/components/NgWidgetPlaceholder.ts"],"names":[],"mappings":"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","file":"NgWidgetPlaceholder.js","sourceRoot":"","sourcesContent":["// tslint:disable:max-line-length\r\n// tslint:disable:quotemark\r\nimport { NgWidgetContainer } from '../directives/NgWidgetContainer';\r\nimport { NgWidget } from '../directives/NgWidget';\r\nimport { INgWidgetPosition, INgWidgetSize } from '../interfaces/INgDraggableWidgetConfig';\r\nimport { Component, Directive, ElementRef, Renderer, EventEmitter, Host, ViewEncapsulation, Type, ComponentRef, KeyValueDiffer, KeyValueDiffers, OnInit, OnDestroy, DoCheck, ViewContainerRef, Output } from '@angular/core';\r\n\r\n\r\nexport class NgWidgetPlaceholder implements OnInit {\r\n\tprivate _size: INgWidgetSize;\r\n\tprivate _position: INgWidgetPosition;\r\n\tprivate _ngWidgetContainer: NgWidgetContainer;\r\n\tprivate _cascadeMode: string;\r\n\r\n\tconstructor(private _ngEl: ElementRef, private _renderer: Renderer) { }\r\n\r\n\t// tslint:disable:typedef\r\n\t// tslint:disable:curly\r\n\tpublic registerGrid(ngGrid: NgWidgetContainer) {\r\n\t\tthis._ngWidgetContainer = ngGrid;\r\n\t}\r\n\r\n\tpublic ngOnInit(): void {\r\n\t\tthis._renderer.setElementClass(this._ngEl.nativeElement, 'widget-placeholder', true);\r\n\t\tif (this._ngWidgetContainer.autoStyle) this._renderer.setElementStyle(this._ngEl.nativeElement, 'position', 'absolute');\r\n\t}\r\n\r\n\tpublic setSize(newSize: INgWidgetSize): void {\r\n\t\tthis._size = newSize;\r\n\t\tthis._recalculateDimensions();\r\n\t}\r\n\r\n\tpublic setGridPosition(newPosition: INgWidgetPosition): void {\r\n\t\tthis._position = newPosition;\r\n\t\tthis._recalculatePosition();\r\n\t}\r\n\r\n\tpublic setCascadeMode(cascade: string): void {\r\n\t\tthis._cascadeMode = cascade;\r\n\t\tswitch (cascade) {\r\n\t\t\tcase 'up':\r\n\t\t\tcase 'left':\r\n\t\t\tdefault:\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'left', '0px');\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'top', '0px');\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'right', null);\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'bottom', null);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'right', '0px');\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'top', '0px');\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'left', null);\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'bottom', null);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'down':\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'left', '0px');\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'bottom', '0px');\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'right', null);\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'top', null);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// \tprivate methods\r\n\tprivate _setDimensions(w: number, h: number): void {\r\n\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'width', w + 'px');\r\n\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'height', h + 'px');\r\n\t}\r\n\r\n\tprivate _setPosition(x: number, y: number): void {\r\n\t\tswitch (this._cascadeMode) {\r\n\t\t\tcase 'up':\r\n\t\t\tcase 'left':\r\n\t\t\tdefault:\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'transform', 'translate(' + x + 'px, ' + y + 'px)');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'right':\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'transform', 'translate(' + -x + 'px, ' + y + 'px)');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'down':\r\n\t\t\t\tthis._renderer.setElementStyle(this._ngEl.nativeElement, 'transform', 'translate(' + x + 'px, ' + -y + 'px)');\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _recalculatePosition(): void {\r\n\t\tconst x: number = (this._ngWidgetContainer.colWidth + this._ngWidgetContainer.marginLeft + this._ngWidgetContainer.marginRight) * (this._position.col - 1) + this._ngWidgetContainer.marginLeft;\r\n\t\tconst y: number = (this._ngWidgetContainer.rowHeight + this._ngWidgetContainer.marginTop + this._ngWidgetContainer.marginBottom) * (this._position.row - 1) + this._ngWidgetContainer.marginTop;\r\n\t\tthis._setPosition(x, y);\r\n\t}\r\n\r\n\tprivate _recalculateDimensions(): void {\r\n\t\tconst w: number = (this._ngWidgetContainer.colWidth * this._size.x) + ((this._ngWidgetContainer.marginLeft + this._ngWidgetContainer.marginRight) * (this._size.x - 1));\r\n\t\tconst h: number = (this._ngWidgetContainer.rowHeight * this._size.y) + ((this._ngWidgetContainer.marginTop + this._ngWidgetContainer.marginBottom) * (this._size.y - 1));\r\n\t\tthis._setDimensions(w, h);\r\n\t}\r\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\r\n\tselector: 'ng-widget-placeholder',\r\n\ttemplate: ''\r\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer, },\n];\n}\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}